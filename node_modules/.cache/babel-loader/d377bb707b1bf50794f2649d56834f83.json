{"ast":null,"code":"import _asyncToGenerator from\"/Users/manavpanchal/Downloads/codes/reactJs/weathertracker/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/manavpanchal/Downloads/codes/reactJs/weathertracker/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/manavpanchal/Downloads/codes/reactJs/weathertracker/node_modules/@babel/runtime/regenerator/index.js\";import React,{useEffect,useState}from\"react\";import\"./weather.css\";import{suggestion}from\"./suggestion\";import Location from\"./Location\";import Tooltip from'@mui/material/Tooltip';import Data from\"./Data\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var WeatherM=function WeatherM(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),crntCity=_useState2[0],setCrntCity=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),fetchCity=_useState6[0],fetchCrntCityName=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),suggarr=_useState8[0],setSuggArr=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),crntTemp=_useState10[0],setCrntTemp=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),latitude=_useState12[0],setLatitude=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),longitude=_useState14[0],setLongitude=_useState14[1];useEffect(function(){navigator.geolocation.getCurrentPosition(function(position){setLatitude(position.coords.latitude);setLongitude(position.coords.longitude);});},[]);useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://api.openweathermap.org/data/2.5/weather?q=\"+name+\"&units=metric&appid=9e4cdd6c628c4cbdcacc25b6df594009\");case 2:res=_context.sent;_context.next=5;return res.json();case 5:result=_context.sent;setCrntTemp(result.main);fetchCrntCityName(result.name);case 8:case\"end\":return _context.stop();}}},_callee);})),[name]);var doChange=function doChange(event){var value=event.target.value;setCrntCity(value);if(value!==\"\"){suggestion(value).then(function(response){setSuggArr(response);});}else setSuggArr([]);};var searchData=function searchData(){setName(crntCity);};var searchCrntLocation=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response,result;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return Location(latitude,longitude);case 2:response=_context2.sent;_context2.next=5;return response;case 5:result=_context2.sent;setCrntCity(result.name);case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function searchCrntLocation(){return _ref2.apply(this,arguments);};}();var ind=0;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"Body_wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card_wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card_header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"search_wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search_bar\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter City Name\",onChange:doChange,value:crntCity}),/*#__PURE__*/_jsx(Tooltip,{title:\"Click to find your current Location\",style:{\"fontSize\":\"2rem\"},children:/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){if(latitude==null)alert(\"Allow use Location to find your cuurent location\");else{setCrntCity(\"searching for Location...\");searchCrntLocation();}},className:\"crntLocator\",children:[\" \",/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-location-crosshairs\"}),\" \"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"suggestion_section\",children:suggarr.map(function(elem,index){if(ind<9){ind++;return/*#__PURE__*/_jsxs(\"h1\",{className:\"suggestions\",onClick:function onClick(){setCrntCity(elem.city);setSuggArr([]);},children:[elem.city,\" , \",elem.state]},index);}return;})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:searchData,children:\"search\"})]})}),!crntTemp?/*#__PURE__*/_jsx(\"p\",{className:\"data-exception\",children:\"No data Found \"}):/*#__PURE__*/_jsx(Data,{cityname:fetchCity,temp:crntTemp.temp,temp_min:crntTemp.temp_min,temp_max:crntTemp.temp_max})]})})})});};export default WeatherM;// <i class=\"fa-solid fa-location-crosshairs\"></i>\n// fetchCityName\n// crntTemp.temp\n// crntTemp.temp_min\n// crntTemp.temp_max","map":{"version":3,"sources":["/Users/manavpanchal/Downloads/codes/reactJs/weathertracker/src/components/WeatherM.js"],"names":["React","useEffect","useState","suggestion","Location","Tooltip","Data","WeatherM","crntCity","setCrntCity","name","setName","fetchCity","fetchCrntCityName","suggarr","setSuggArr","crntTemp","setCrntTemp","latitude","setLatitude","longitude","setLongitude","navigator","geolocation","getCurrentPosition","position","coords","fetch","res","json","result","main","doChange","event","value","target","then","response","searchData","searchCrntLocation","ind","alert","map","elem","index","city","state","temp","temp_min","temp_max"],"mappings":"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","sourcesContent":["import React, { useEffect, useState} from \"react\";\nimport \"./weather.css\"\nimport { suggestion } from \"./suggestion\";\nimport Location from \"./Location\";\nimport Tooltip from '@mui/material/Tooltip';\nimport Data from \"./Data\";\n\nconst WeatherM =() =>\n{\n    const [crntCity, setCrntCity] = useState(\"\");\n    const [name , setName] = useState(\"\");\n    const [fetchCity, fetchCrntCityName] = useState(\"\");\n    const [suggarr , setSuggArr] =  useState([]);\n    const [crntTemp , setCrntTemp] = useState([]);\n    const [latitude , setLatitude ] = useState(null);\n    const [longitude , setLongitude] = useState(null);\n\n    useEffect(()=>{\n        navigator.geolocation.getCurrentPosition((position) =>{\n            setLatitude(position.coords.latitude);\n            setLongitude(position.coords.longitude);\n        })\n    },[])\n\n    useEffect(async ()=>{\n        const res = await fetch(\"https://api.openweathermap.org/data/2.5/weather?q=\" +  name   +\"&units=metric&appid=9e4cdd6c628c4cbdcacc25b6df594009\"); \n        const result = await res.json();\n        setCrntTemp(result.main);\n        fetchCrntCityName(result.name);\n    },[name])\n\n    const doChange = (event) =>\n    {\n        const {value} = event.target;\n        setCrntCity(value);\n        if(value !== \"\"){\n            suggestion(value).then((response)=>{\n                setSuggArr(response);\n            });\n        }else setSuggArr([]);\n    }\n    const searchData = () =>{\n        setName(crntCity);\n    }\n    const searchCrntLocation = async () =>{\n        const response  =  await Location(latitude , longitude);\n        const result =  await response;\n        setCrntCity(result.name);\n    }\n    var ind = 0;\n    return(\n        <>\n            <div className=\"Body_wrapper\">\n                <div className=\"card_wrapper\">\n                    <div className=\"card\">\n                        <div className=\"card_header\">\n                            <div className=\"search_wrapper\">\n                                <div className=\"search_bar\">\n                                    <input \n                                        type=\"text\"\n                                        placeholder=\"Enter City Name\"\n                                        onChange={doChange}\n                                        value = {crntCity}\n                                    />\n                                    <Tooltip title=\"Click to find your current Location\" style={{\"fontSize\" : \"2rem\"}}>\n                                        <button onClick={() =>{\n                                            if(latitude == null)\n                                                alert(\"Allow use Location to find your cuurent location\")\n                                            else {\n                                                setCrntCity(\"searching for Location...\");\n                                                searchCrntLocation();\n                                            }\n                                        }} className=\"crntLocator\"> <i className=\"fa-solid fa-location-crosshairs\"></i> </button>\n                                    </Tooltip>\n                                    <div className=\"suggestion_section\">\n                                    {suggarr.map((elem , index) => {\n                                            if(ind<9){\n                                                ind ++;\n                                                return(\n                                                <h1 key={index} className=\"suggestions\" onClick={() =>{\n                                                setCrntCity(elem.city);                                \n                                                setSuggArr([]);}}> \n                                                {elem.city} , {elem.state} \n                                                </h1>\n                                                )\n                                            }\n                                            return ;\n                                        })}\n                                    </div>\n                                </div>\n                                <button onClick= {searchData}>search</button>\n                            </div>\n                        </div>\n                        {!crntTemp? (\n                            <p className=\"data-exception\">No data Found </p>\n                        ):(\n                            <Data \n                                cityname = {fetchCity} \n                                temp={crntTemp.temp} \n                                temp_min = {crntTemp.temp_min}\n                                temp_max = {crntTemp.temp_max}\n                            />\n                        )}\n                    </div>\n                </div>\n            </div>\n        </>\n    )\n}\n\nexport default WeatherM\n\n// <i class=\"fa-solid fa-location-crosshairs\"></i>\n// fetchCityName\n// crntTemp.temp\n// crntTemp.temp_min\n// crntTemp.temp_max"]},"metadata":{},"sourceType":"module"}